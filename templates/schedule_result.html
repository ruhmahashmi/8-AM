<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Schedule - Drexel Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <img src="{{ url_for('static', filename='drexel_logo.png') }}" alt="Drexel Logo" class="logo">
            <ul class="sidebar-menu">
                <li><a href="{{ url_for('schedule') }}">Schedule</a></li>
                <li><a href="#">My Courses</a></li>
                <li><a href="#">My Progress</a></li>
                <li><a href="{{ url_for('profile') }}">Account Settings</a></li>
            </ul>
        </div>
        <div class="main-content">
            <nav class="navbar">
                <span class="time">8 AM</span>
                <ul class="nav-links">
                    <li><a href="{{ url_for('dashboard') }}">Home</a></li>
                    <li><a href="#">Courses</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="{{ url_for('profile') }}">Profile</a></li>
                    <li><a href="{{ url_for('logout') }}">Logout</a></li>
                </ul>
            </nav>
            <h1>Your Fall Freshman Schedule</h1>
            <div id="scheduleContainer" class="schedule-container">
                {% if schedule and schedule|length > 0 %}
                    <div class="schedule-grid">
                        <div class="time-column">
                            <div class="time-header">Time</div>
                            {% for i in range(8, 18) %}
                                <div class="time-slot">{{ (i % 12) or 12 }}:00{{ 'AM' if i < 12 else 'PM' }}</div>
                            {% endfor %}
                        </div>
                        <div class="days-container">
                            {% for day in ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'] %}
                                <div class="day-column">
                                    <div class="day-header">{{ day }}</div>
                                    <div class="day-slots">
                                        {% for i in range(8, 18) %}
                                            <div class="slot">
                                                {% for event in schedule if event[0] == day %}
                                                    {% set start_minutes = time_to_minutes(event[3]) %}
                                                    {% set end_minutes = time_to_minutes(event[4]) %}
                                                    {% set slot_start = i * 60 %}
                                                    {% if start_minutes >= slot_start and start_minutes < slot_start + 60 %}
                                                        <div class="course-card" style="height:{{ ((end_minutes - start_minutes) / 60 * 60) }}px; top:{{ ((start_minutes - slot_start) / 60 * 60) }}px;">
                                                            <div class="course-title">{{ event[1] }}</div>
                                                            <div class="course-time">{{ event[3] }} - {{ event[4] }}</div>
                                                        </div>
                                                    {% endif %}
                                                {% endfor %}
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <p class="no-schedule">No schedule generated. Try adjusting your preferences!</p>
                {% endif %}
            </div>
            <a href="{{ url_for('schedule') }}" class="regenerate-btn">Try Another Schedule</a>
        </div>
    </div>
</body>
</html>